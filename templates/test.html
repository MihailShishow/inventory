<html>

<head>
    <title>Testing REST API</title>
</head>
<script>
    async function getProducts() {
        let response = await fetch("https://rocky-crag-71592.herokuapp.com/api/products/");
        if (response.ok) {
            let text = response.text();
            console.log(text);
        } else {
            console.log("ERROR " + response.status);
        }
    }

    async function createProduct() {
        let product = {
            name: "Wheat",
            measure_unit: "bags",
            price: 100.80
        };

        let url = "https://rocky-crag-71592.herokuapp.com/api/products/"

        let response = await fetch(url, {
            method: "POST",
            headers: {
                'Content-Type': 'application/json;charset=utf-8'
            },
            body: JSON.stringify(product)
        });

        let result = await response.json();
        console.log(result);


    }
</script>


<body>
    <a href="/api/">API</a>
    <button onclick=getProducts()>Get</button>
    <button onclick=createProduct()>POST</button>


</body>

</html>